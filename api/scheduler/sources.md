---
layout: default
title: Описание ресурсов для планировщика
parent: Планировщик
grand_parent: EverGIS API
nav_order: 0
---

# Описание ресурсов для планировщика
Большинство задач, выполняемых планировщиком, требуют в качестве обязательных параметров указывать исходный (`source`) и целевой (`target`) ресурс.

В JSON-объект описания ресурса всегда входит его тип `type`. Доступные типы ресурсов:
- `layerTaskDataStorage` - обычный слой (PostgresLayerService);
- `tableTaskDataStorage` - таблица (источник данных);
- `staticTaskDataStorage` - файл во временном хранилище. Используется при загрузке данных из файлов;
- `tilingTaskDataStorage` - растровый каталог;
- `configuredLayerTaskDataStorage` - временный конфигурированный слой (используется только веб-клиентом);
- `inMemoryTaskDataStorage` - временный in-memory слой (используется только веб-клиентом);

Остальной набор параметров зависит от типа ресурса.

## Параметры для `layerTaskDataStorage`

- `type` - `layerTaskDataStorage`. **Обязательный параметр**;
- `serviceName` - системное имя слоя. **Обязательный параметр**;
- `condition` - [атрибутивный запрос](/help/attr_query) для фильтрации объектов. _Указывается только для_ `source`;
- `createNewService` - создать новый слой (`true` или `false`). По умолчанию - `false`. Если указано `true`, то перед выполнением задачи будет создан новый слой с именем `serviceName`. _Указывается только для_ `target`.

## Параметры для `tableTaskDataStorage`

- `type` - `tableTaskDataStorage`. **Обязательный параметр**;
- `tableName` - системное имя таблицы. **Обязательный параметр**.

## Параметры для `staticTaskDataStorage`
**Внимание**: `staticTaskDataStorage` может использоваться только как `source` для задачи копирования при импорте данных из файлов.

- `type` - `staticTaskDataStorage`. **Обязательный параметр**;
- `fileName` - название файла в хранилище. **Обязательный параметр**;
- `layerName` - название слоя внутри файла, из которого будет производиться импорт. Используется для форматов, которые подразумевают возможность хранения нескольких слоёв или таблиц. К примеру, архив с несколькими shp-файлами, несколько листов XLSX-файла, GPKG, KML и т/д. Если не указано, будет использован первый по порядку слой.
- `attributeNameRowNumber` - номер строки, в которой содержатся названия атрибутов;
- `containsAliasRow` - содержит ли таблица строку с псевдонимами атрибутов (`true` или `false`);
- `aliasRowNumber` - номер строки с псевдонимами атрибутов. Указывается только если `containsAliasRow=true`;
- `firstDataRowNumber` - с какой строки начинать считывать данные. По умолчанию - 2;
- `columnDelimiter` - разделитель столбцов. Указывается только для CSV-файлов;
- `isWkt` - прочитать геометрию из WKT (`true` или `false`). Если `true`, то в параметре `coordSourceField` необходимо указать одно поле с WKT-геометрией;
- `coordSourceFields` - список/массив с названиями атрибутов, содержащих XY-координаты точек. Указывается только для CSV и XLSX файлов и является обязательным для них. Если `isWkt=true`, в список включается только один атрибут, содержащий WKT-геометрии. Также список может состоять из одного атрибута, содержащего широту и долготу точек с разделителем ';'
- `spatialReference` - система координат, в которой указаны координаты (EPSG-код, например, 4326 - WGS84 или 3857 - Web Mercator WGS84). Обязательный параметр для CSV и XLSX файлов.

## Параметры для `configuredLayerTaskDataStorage`

- `type` - `configuredLayerTaskDataStorage`. **Обязательный параметр**;
- `serviceName` - системное имя слоя; **Обязательный параметр**
- `attributesConfiguration` - конфигурация атрибутов слоя. Строится так же, как и при [создании слоя](/api/resources/create_layer).

## Параметры для `inMemoryTaskDataStorage`

- `type` - `inMemoryTaskDataStorage`. **Обязательный параметр**;
- `features` - список/массив объектов, которые необходимо хранить внутри _in-memory_ слоя. **Обязательный параметр**; <!-- здесь нужна будет ссылка на какую-нибудь страничку с JSON-структурой описаний объектов (атрибуты + геометрия) --->
- `idAttribute` - имя атрибута, содержащего уникальный идентификатор. **Обязательный параметр**;
- `geometryAttribute` - имя атрибута, содержащего геометрию. **Обязательный параметр**;
- `geometryType` - тип геометрии. **Обязательный параметр**;
- `spatialReference` - система координат, в которой указаны координаты (EPSG-код, например, 4326 - WGS84 или 3857 - Web Mercator WGS84).

## Параметры для `tilingTaskDataStorage`

- `type` - `tilingTaskDataStorage`. **Обязательный параметр**;
- `serviceName` - системное имя растрового каталога. **Обязательный параметр**;
- `createNewService` - создать новый растровый каталог (`true` или `false`). По умолчанию - `false`. Если указано `true`, то перед выполнением задачи будет создан новый растровый каталог с именем `serviceName`. _Указывается только для_ `target`.