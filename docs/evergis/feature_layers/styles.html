<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Оформление слоёв - EverGIS documentation</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../intro.html">EverGIS</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> Общая информация</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../system_requirements.html"><strong aria-hidden="true">1.1.</strong> Системные требования</a></li></ol></li><li class="chapter-item expanded "><a href="../authentication_system.html"><strong aria-hidden="true">2.</strong> Система утентификации</a></li><li class="chapter-item expanded "><a href="../resources.html"><strong aria-hidden="true">3.</strong> Пользовательские ресурсы</a></li><li class="chapter-item expanded "><a href="../permissions/permissions.html"><strong aria-hidden="true">4.</strong> Система прав и разрешений</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../permissions/acl.html"><strong aria-hidden="true">4.1.</strong> Списки контроля доступа (ACL)</a></li><li class="chapter-item expanded "><a href="../permissions/policies.html"><strong aria-hidden="true">4.2.</strong> Политики доступа</a></li></ol></li><li class="chapter-item expanded "><a href="../rest_api.html"><strong aria-hidden="true">5.</strong> REST Api</a></li><li class="chapter-item expanded "><a href="../tasks/scheduler.html"><strong aria-hidden="true">6.</strong> Отложенные задачи</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Буферные зоны</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Зоны доступности</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.3.</strong> Массовое копирование (+ импорт/экспорт)</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.4.</strong> Изображение для печати</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.5.</strong> Разбиение на тайлы</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.6.</strong> Объединение слоёв</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.7.</strong> Булевые операции между слоями</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.8.</strong> Массовое копирование с фильтрацией</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.9.</strong> Массовое редактирование атрибутов</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.10.</strong> Объединение задач в пайплайны</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Векторные слои</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../query_language.html"><strong aria-hidden="true">7.1.</strong> Язык атрибутивных запросов</a></li><li class="chapter-item expanded "><a href="../feature_layers/styles.html" class="active"><strong aria-hidden="true">7.2.</strong> Оформление слоёв</a></li><li class="chapter-item expanded "><a href="../feature_layers/table_references.html"><strong aria-hidden="true">7.3.</strong> Связывание таблиц</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Для разработчиков</li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Документация к коду</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Настройка сервера</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Раработка плагинов</div></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">EverGIS documentation</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>Оформление векторных слоёв задаётся через стили (StyleDc в swagger). Настройки
стиля позволяют задать:</p>
<ul>
<li>какой символ использовать для отображения объектов</li>
<li>атрибутивный фильтр для объектов. Только к объектам, удовлетворяющим заданному
условию, будет применён данный стиль.</li>
<li>минимальный и максимальный масштабы, на которых будет применён данный стиль</li>
</ul>
<p>Стили имеют вложенную структуру, то есть каждый стиль может иметь набор дочерних
стилей, которые, в свою очередь, могут иметь свой набор дочерних стилей, и т. д.
Это позволяет, например, задать стиль, при котором на мелких масштабах объекты
отображаются с подписями, на крупных масштабах без подписи, а при максимальном
отдалении не отображаются вовсе. Или задать абсолютно разные символы для
объектов в зависимости от их атрибутов.</p>
<h1><a class="header" href="#Правила-применения-стилей" id="Правила-применения-стилей">Правила применения стилей</a></h1>
<p>Когда сервер решает, какой стиль применить к очередному объекту в слое, он
действует по следующему алгоритму:</p>
<ol>
<li>Выбирается верхнеуровневый стиль слоя.</li>
<li>Если для выбранного стиля заданы ограничения по масштабу, проверяется,
попадает ли масштаб отрисовки в эти ограничения. Если нет, данный стиль
пропускается.</li>
<li>Если для выбранного стиля задан атрибутивный фильтр, проверяется,
удовлетворяет ли текущий объект этому фильтру. Если нет, стиль пропускается.</li>
<li>Если у данного стиля есть вложенные стили, для каждого из них повторяются
пункты 2-5.</li>
<li>Если у стиля задан символ, текущий объект отображается данным символом. После
отрисовки алгоритм завершается.</li>
</ol>
<p>То есть, каждый объект в слое может быть нарисован только одним стилем. Если в
слое есть больше одного (из вложенных) стиля, все условия которого выполняются
для данного объект, использован будет только первый из них. Если ни один из
вложенных стилей не подошел для данного объекта, этот объект будет отрисован
родительским стилем.</p>
<h1><a class="header" href="#Символы" id="Символы">Символы</a></h1>
<p>Символы определяют то, как объект будет отображён на карте. Например, для
точечных объектов, есть символы, которые отображают заданную точку как:</p>
<ul>
<li>кружок заданного радиуса</li>
<li>квадрат заданного размера</li>
<li>картинку</li>
<li>картинку с маской (которую можно перекрашивать, использую параметры символа)</li>
<li>и другие</li>
</ul>
<p>Некоторые символы задают элементарное представление для объектов, а некоторые
позволяют комбинировать несколько типов отображения вместе.</p>
<p>Например, композитный символ (CompositeSymbolDc) сам не добавляет ничего к
отрисовке объекта, но позволяет рисовать объект сразу несколькими простыми
символами. С помощью него можно, например, отобразить объект с подпись (задав
его вложенными символами символ для отображения самого объекта и символ для
отображения подписи объекта).</p>
<p>Полный список символов можно найти в Swagger (типы, имеющие в названии Symbol).</p>
<h1><a class="header" href="#Параметры" id="Параметры">Параметры</a></h1>
<p>Многие символы кроме свойств, заданных примитивами (числом или цветом), имеют
свойства, определенные как параметры (ParameterDc[]). Такие параметры позволяют
классифицировать объекты по данному свойству.</p>
<p>Типы параметров:</p>
<ul>
<li>
<p><code>ScaleParameterDc[]</code> - позволяет выбирать значение свойства для символа по
заданной шкале, в зависимости от вычисленного для данного объекта значения.
С помощью такого параметра можно задать, например, что радиус кружка, которым
отображается точка города, будет увеличиваться в зависимости от населения
этого города. Или цвет здания на карте будет изменяться в зависимости от
стоимости жилья в этом здании.</p>
</li>
<li>
<p><code>ByAttributeParameterDc[]</code> - позволяет задать значение свойства для символа
для определённых значений атрибута объекта. Например, для слоя автодорог, с
помощью такого параметра можно задать, что дороги типа &quot;шоссе&quot; отображаются
линией толщиной 8 пикселов, а &quot;просёлочная дорога&quot; - 2 пиксела.</p>
</li>
<li>
<p><code>CalculatedParameterDc</code> - позволяет вычислять значение свойства для символа
напрямую через из атрибутов объектов. Например, имея в атрибутах точки
значения x и y вектора силы ветра, можно задать поворот символа (стрелки) на
карте, вычисляя его из этих атрибутов.</p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../query_language.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../feature_layers/table_references.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../query_language.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../feature_layers/table_references.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
